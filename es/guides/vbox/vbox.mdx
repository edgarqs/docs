---
title: 'Virtual Box'
description: 'Configuraci√≥n de red'
icon: 'laptop-code'
---

## Configuraci√≥n de Red en M√°quinas con VirtualBox

### Configuraci√≥n de Adaptadores en VirtualBox

| Adaptador | Modo | Funci√≥n |
|-----------|------|---------|
| Adaptador 1 | **NAT** | Salida a Internet (apt update, dnf, etc.) |
| Adaptador 2 | **Red solo-anfitri√≥n** | Comunicaci√≥n entre VMs + acceso desde Windows SSH |

1. En VirtualBox ir a: **Archivo -> Herramientas -> Administrador de red de VirtualBox** 
2. En la pesta√±a **Redes solo-anfitri√≥n**:
  - Clic en **Crear**  
   - Configurar:
     - IP anfitri√≥n (Windows): `192.168.56.1`  
     - M√°scara: `255.255.255.0`
     - DHCP: opcional (recomendado activado)
3. En cada m√°quina virtual:
   - Clic derecho ‚Üí **Configuraci√≥n ‚Üí Red**  
   - **Adaptador 1:**
     - Habilitar adaptador de red  
     - Conectado a: **NAT**
   - **Adaptador 2:**
     - Habilitar adaptador de red  
     - Conectado a: **Red solo-anfitri√≥n**
     - Nombre: `VirtualBox Host-Only Ethernet Adapter` _(o el que hayas creado)_

<Columns cols={2}>
  <Card title="Adaptador 1">
    ![Adaptador 1](/images/vbox/adaptador1.png)
  </Card>
  <Card title="Adaptador 2">
    ![Adaptador 1](/images/vbox/adaptador2.png)
  </Card>
</Columns>

### üé© Configuraci√≥n en Fedora

Las interfaces detectadas suelen ser:  
- `enp0s3` -> NAT (10.0.2.x)  
- `enp0s8` -> Host-Only (vac√≠a)

```bash
# 1. Crear la conexi√≥n b√°sica sin par√°metros IP
sudo nmcli con add type ethernet ifname enp0s8 con-name hostonly

# 2. Asignar IP est√°tica
sudo nmcli con mod hostonly ipv4.addresses 192.168.56.101/24
sudo nmcli con mod hostonly ipv4.method manual

# 3. A√±adir DNS
sudo nmcli con mod hostonly ipv4.dns "8.8.8.8 1.1.1.1"

# 4. Hacer que se active autom√°ticamente al iniciar
sudo nmcli con mod hostonly connection.autoconnect yes

# 5. Levantar la interfaz
sudo nmcli con up hostonly
```

Activar:

```bash
sudo nmcli con reload
sudo nmcli con up enp0s8
```

### üêß Configuraci√≥n en Ubuntu

Las interfaces detectadas suelen ser:  
- `enp0s3` -> NAT (10.0.2.x)  
- `enp0s8` -> Host-Only (sin IP)

**Archivo:** `/etc/netplan/50-cloud-init.yaml`

```bash
sudo nano /etc/netplan/50-cloud-init.yaml
```

```yaml
network:
  version: 2
  ethernets:
    enp0s3:
      dhcp4: true
    enp0s8:
      dhcp4: no
      addresses:
        - 192.168.56.102/24
      nameservers:
        addresses: [8.8.8.8, 1.1.1.1]
```

Aplicar cambios:

```bash
sudo netplan apply
```

### üêâ Configuraci√≥n en Kali Linux

Las interfaces detectadas suelen ser:  
- `enp0s3` -> NAT (10.0.2.x)  
- `enp0s8` -> Host-Only (sin IP)

1. Ver nombres de dispositivos y conexiones:

```bash
nmcli device status
nmcli connection show
```

- `DEVICE` indica el nombre real (eth0, eth1)
- `NAME` indica el nombre de la conexi√≥n en NetworkManager

2. Configurar con DHCP

```bash
sudo nano /etc/network/interfaces
```

```bash
source /etc/network/interfaces.d/*

auto lo
iface lo inet loopback

auto eth0
iface eth0 inet dhcp

auto eth1
iface eth1 inet dhcp
```

Deber√≠an aparecer IPs para los dos adaptadores:

```bash
ip -c a
```

### Acceder por SSH

1. Instalar y activar openssh

<CodeGroup>

```bash Fedora icon="fedora"
sudo dnf update -y && sudo dnf install -y openssh-server && sudo systemctl enable sshd && sudo systemctl start sshd
```

```bash Ubuntu icon="ubuntu"
sudo apt update && sudo apt install -y openssh-server && sudo systemctl enable ssh && sudo systemctl start ssh
```

</CodeGroup>

2. Acceder desde Windows

```bash Terminal Windows icon="windows"
ssh usuario@192.168.56.101   # Fedora
ssh usuario@192.168.56.102   # Ubuntu 1
ssh usuario@192.168.56.103   # Ubuntu 2 (si la configuras)
```
